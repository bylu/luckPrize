<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta http-equiv="pragma" content="no-cache"/>  
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <link rel="stylesheet" href="js/dist/css/checkbix.css">
    <link rel="stylesheet" href="js/layer/layer.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/dist/js/checkbix.min.js"></script>
	<title>答题卡</title>
</head>
<body>
	<div class="container">
		<img src="images/bg2.jpg" class="bg" />
		<div class="showContent">
           <div class="bodyContent">
               <div class="showItemContent">
                   <div class="itemList">
                       <div class="title"><span>No:1</span> 金蟾BOSS的基础经验为？</div>
                       <div class="questionSelect">
                           <div class="selectItem">
                               <input id="myradio1" type="radio" class="checkbix" name="score" data-shape="circled" data-color="yellow" data-text="A.10"  value="A">
                           </div>
                           <div class="selectItem">
                               <input id="myradio2" type="radio" class="checkbix" name="score" data-shape="circled" data-color="yellow" data-text="B.12" value="B" >
                           </div>
                           <div class="selectItem">
                               <input id="myradio3" type="radio" class="checkbix" name="score" data-shape="circled" data-color="yellow" data-text="C.15" value="C" >
                           </div>
                           <div class="selectItem">
                               <input id="myradio4" type="radio" class="checkbix" name="score" data-shape="circled" data-color="yellow" data-text="D.20" value="D" >
                           </div>
                           <label class="data-value"></label>
                       </div>
                   </div>

                   <div class="itemList">
                       <div class="title"><span>No:2</span> 金蟾BOSS的基础经验为？</div>
                       <div class="questionSelect">
                           <div class="selectItem">
                               <input id="myradio5" type="radio" class="checkbix" name="score1" data-shape="circled" data-color="yellow" data-text="A.10" value="A">
                           </div>
                           <div class="selectItem">
                               <input id="myradio6" type="radio" class="checkbix" name="score1" data-shape="circled" data-color="yellow" data-text="B.12" value="B">
                           </div>
                           <div class="selectItem">
                               <input id="myradio7" type="radio" class="checkbix" name="score1" data-shape="circled" data-color="yellow" data-text="C.15" value="C">
                           </div>
                           <div class="selectItem">
                               <input id="myradio8" type="radio" class="checkbix" name="score1" data-shape="circled" data-color="yellow" data-text="D.20" value="D">
                           </div>
                           <label class="data-value"></label>
                       </div>
                   </div>

                   <div class="itemList">
                       <div class="title"><span>No:3</span> 金蟾BOSS的基础经验为？</div>
                       <div class="questionSelect">
                           <div class="selectItem">
                               <input id="myradio9" type="radio" class="checkbix" name="score2" data-shape="circled" data-color="yellow" data-text="A.10"  value="A">
                           </div>
                           <div class="selectItem">
                               <input id="myradio10" type="radio" class="checkbix" name="score2" data-shape="circled" data-color="yellow" data-text="B.12" value="B">
                           </div>
                           <div class="selectItem">
                               <input id="myradio11" type="radio" class="checkbix" name="score2" data-shape="circled" data-color="yellow" data-text="C.15" value="C">
                           </div>
                           <div class="selectItem">
                               <input id="myradio12" type="radio" class="checkbix" name="score2" data-shape="circled" data-color="yellow" data-text="D.20" value="D">
                           </div>
                           <label class="data-value"></label>
                       </div>
                   </div>

                   <div class="itemList">
                       <div class="title"><span>No:4</span> 金蟾BOSS的基础经验为？</div>
                       <div class="questionSelect">
                           <div class="selectItem">
                               <input id="myradio13" type="radio" class="checkbix" name="score2" data-shape="circled" data-color="yellow" data-text="A.10"  value="A">
                           </div>
                           <div class="selectItem">
                               <input id="myradio14" type="radio" class="checkbix" name="score2" data-shape="circled" data-color="yellow" data-text="B.12" value="B">
                           </div>
                           <div class="selectItem">
                               <input id="myradio15" type="radio" class="checkbix" name="score2" data-shape="circled" data-color="yellow" data-text="C.15" value="C">
                           </div>
                           <div class="selectItem">
                               <input id="myradio16" type="radio" class="checkbix" name="score2" data-shape="circled" data-color="yellow" data-text="D.20" value="D">
                           </div>
                           <label class="data-value"></label>
                       </div>
                   </div>

                   <div class="itemList">
                       <div class="title"><span>No:5</span> 金蟾BOSS的基础经验为？</div>
                       <div class="questionSelect">
                           <div class="selectItem">
                               <input id="myradio17" type="radio" class="checkbix" name="score2" data-shape="circled" data-color="yellow" data-text="A.10"  value="A">
                           </div>
                           <div class="selectItem">
                               <input id="myradio18" type="radio" class="checkbix" name="score2" data-shape="circled" data-color="yellow" data-text="B.12" value="B">
                           </div>
                           <div class="selectItem">
                               <input id="myradio19" type="radio" class="checkbix" name="score2" data-shape="circled" data-color="yellow" data-text="C.15" value="C">
                           </div>
                           <div class="selectItem">
                               <input id="myradio20" type="radio" class="checkbix" name="score2" data-shape="circled" data-color="yellow" data-text="D.20" value="D">
                           </div>
                           <label class="data-value"></label>
                       </div>
                   </div>


               </div>
               <p class="postQuestionInfo">恭喜你！已经全部答完啦!</p>
           </div>
            <div class="showAnimal">
                <img src="images/animal.png" />
            </div>
            <div class="btnPostQuestion">
                <img src="images/btnPostAnswer.png" class="userPostQuestion" />
            </div>
		</div>
	</div>

    <!--答题结束的弹框1-->


    <!--答题结束的弹框2-->
    <!--<div class="questionOverDialog02">
        <img src="images/errorSomeOne.png" class="showprizeBg" />
        <div class="showUserOpera">
            <div class="continueDraw">
                <img src="images/Ineedhelp.png" />
            </div>
        </div>
    </div>-->

    <!-- 大转盘部分-->
    <!--<div class="showLuckBg">
        <img src="images/showluckDialog.png" class="showprizeBg"/>
        <div class="closebtn"><img src="images/close.png" /></div>
        <div class="luckdiv">

            <div id="dowebok">
                <div class="plate">
                    <div id="plateBtn" class="plateBtncss" href="javascript:"></div>
                </div>
            </div>
        </div>
    </div>-->

    <!--<div class="prizeBg">
        <img src="images/prizebg.png" class="showprizeBg" />
        <div class="showPrizeContent">
            <input id="foo" type="text" value="ABCDEFghi" class="codePrizeInfo">
           <div class="showPrizeBtns">
               <button class="btnCopy" data-clipboard-action="copy" data-clipboard-target="#foo"></button>
               <button class="prizeRecodeBtn"></button>
           </div>
            <p class="tips">前往游戏：游戏主界面 - 活动 - 兑换码 - 礼包码即可兑换</p>
        </div>
    </div>-->


    <script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="js/jquery.rotate.min.js"></script>
    <script type="text/javascript" src="js/layer/layer.m.js"></script>
    <script type="text/javascript" src="js/clipboard.min.js"></script>
    <script type="text/javascript">
        /*选择的勾选效果*/
        Checkbix.init();
        /*copy*/
        var clipboard = new Clipboard('.btnCopy');

        clipboard.on('success', function(e) {
            console.log(e);
            console.log(e.text); //获取复制的内容
            layer.open({
                content: '<p style="width:100%;text-align:center">复制成功</p>'
                ,btn: ['好的'],
                yes: function () {
                    layer.closeAll();
                }
            });
        });

        clipboard.on('error', function(e) {
           // console.log(e);
            layer.open({
                content: '<p style="width:100%;text-align:center">复制失败</p>'
                ,btn: ['好的'],
                yes: function () {
                    layer.closeAll();
                }
            });
        });

        /*
        *弹框的显示
        * allRightAnswer() 是全部答对的题
        * notAllRightAnswer() 是有答错的题
        * bigDraw() 大转盘显示和大转盘显示事件  再接再厉
        * bigDraw1() 大转盘显示和大转盘显示事件  可歌可泣
        * showPrizeCode()  显示转盘后的奖励  安慰奖
        * showPrizeCode1 显示转盘后的奖励  恭喜恭喜奖
        * showSpecialPrize()  特等奖的显示
        * noSpecialPrize()没有中特等奖
        * */

        function  allRightAnswer(){
            layer.open({
                type:1,
                content:'<div class="questionOverDialog01">'+
                        "<img src='images/allRightBg.png' class='showprizeBg' />"+
                            "<div class='showUserOpera'>"+
                                "<div class='continueDraw'>"+
                                    "<img src='images/gotomakeprize.png' />"+
                                "</div>"+
                            "</div>"+
                        "</div>'",
                style: 'width:95%; height:auto;border:none;background:none;margin:0px auto;',
                shadeClose: false,
                success: function (olayer) {
                    var cla = 'getElementsByClassName';
                    olayer[cla]('continueDraw')[0].onclick = function () {
                        layer.closeAll();
                    }
                }
            });
        }

        function notAllRightAnswer(){
            layer.open({
                type:1,
                content:'<div class="questionOverDialog02">'+
                        "<img src='images/errorSomeOne.png' class='showprizeBg' />"+
                            "<div class='showUserOpera'>"+
                                "<div class='continueDraw'>"+
                                    "<img src='images/Ineedhelp.png' />"+
                                "</div>"+
                            "</div>"+
                         "</div>'",
                style: 'width:95%; height:auto;border:none;background:none;margin:0px auto;',
                shadeClose: false,
                success: function (olayer) {
                    var cla = 'getElementsByClassName';
                    olayer[cla]('continueDraw')[0].onclick = function () {
                        bigDraw();
                        //layer.closeAll();
                    }
                }
            });
        }

        function bigDraw(){
            layer.open({
                type:1,
                content:"<div class='showLuckBg'>"+
                            "<img src='images/showluckDialog.png' class='showprizeBg'/>"+
                            "<div class='closebtn'><img src='images/close.png' /></div>"+
                            "<div class='luckdiv'>"+
                                "<div id='dowebok'>"+
                                    "<div class='plate'>"+
                                         "<div id='plateBtn' class='plateBtncss' href='javascript:'></div>"+
                                    "</div>"+
                                "</div>"+
                            "</div>"+
                        "</div>'",
                style: 'width:95%; height:auto;border:none;background:none;margin:0px auto;',
                shadeClose: false,
                success: function (olayer) {
                    var cla = 'getElementsByClassName';
                    olayer[cla]('closebtn')[0].onclick = function () {
                        layer.closeAll();
                    }
                }
            });

            var $plateBtn = $('#plateBtn');
            var count = 0; //抽奖次数
            var isRotate = false;//转动的状态

            var timeOut = function () { //超时函数
                $plateBtn.rotate({
                    angle: 0,  //起始角度
                    duration: 10000,
                    animateTo: 2160,//旋转角度6圈
                    easing: $.easing.easeOutSine, //动画扩展 这里是设置请求超时后返回的角度，所以应该还是回到最原始的位置，2160是因为我要让它转6圈，就是360*6得来的
                    callback: function () {
                        alert("网络超时");
                    }
                });
            };

            var rotateFunc = function (awards, angle, text, extraData) {   //转盘旋转   awards:奖项，angle:奖项对应的角度
                $plateBtn.stopRotate(); //停止旋转动画
                $plateBtn.rotate({
                    angle: 0,
                    duration: 5000,
                    animateTo: angle + 1440,  //angle是图片上各奖项对应的角度，1440是让指针固定旋转4圈 360*4
                    callback: function () {

                        $(this).addClass("plateBtncss");
                        $(this).removeClass("plateBtncss2");
                        showPrizeCode(text); //显示中奖的物品代码

                        isRotate = !isRotate;

                    }
                });
            };

            $("#plateBtn").click(function(){
                  alert("sdsdsd");
                     if(isRotate) return;
                  if(count<1){
                    isRotate = !isRotate;  //
                    $(this).removeClass("plateBtncss");
                    $(this).addClass("plateBtncss2");
                    /*
                     var time=[0,1];
                     time = time[Math.floor(Math.random()*time.length)];
                     if(time == 0){  //网络超时
                     timeOut();
                     }
                     */
                    //if(time == 1){

                    /*
                     这里的time和count以及data是要从后台获取的，但这里只是静态页面，所以我就利用了random随机数来尽量模拟抽奖的过程了。
                     time参数表示从后台请求是否成功，0是请求超时，1是请求成功(成功后再判断返回的值是什么样);
                     data就是请求返回的数据，1，2，3表示一二三等奖，0是不中奖，根据返回的数据，再去设置指针旋转的角度。
                     因为这个图片上的角度无法用公式计算出来，所以只能这样子计算出来后定死。*/

                    var data = [0, 1, 2, 3, 4, 5, 6, 7];
                    data = data[Math.floor(Math.random()*data.length)];
                    switch(data){
                        case 1:
                            rotateFunc(1,157,'1000幸运豆');
                            break;
                        case 2:
                            rotateFunc(2,65,'10000幸运豆');
                            break;
                        case 3:
                            rotateFunc(3,335,'夺宝卡*1');
                            break;
                        case 4:
                            rotateFunc(4,247,'初级参赛卡*1');
                            break;
                        case 5:
                            rotateFunc(5,114,'5000幸运豆');
                            break;
                        case 6:
                            rotateFunc(6,24,'锁定/定屏、加速*1+1w幸运豆');
                            break;
                        case 7:
                            rotateFunc(7,292,'定屏*1+锁定*1+加速*1');
                            break;
                        default:
                            rotateFunc(0,203,'低级神灯*1 5万幸运豆');
                    }
                }else{
                    layer.open({
                        type: 1,
                        content: "<div style='width:90%;padding:1% 5% 5% 5%;background-color:#ee382b; border-radius:5px;font-weight:500;font-family:Microsoft Yahei'><p style='width:100%;float:left;margin-bottom:3%;'><img src='images/close.png' class='btnclose5'  style='width:40px;height:40px;float:right;' /></p><p style='width:100%;text-align:center;color:#ffe66f;padding:1% 0%;margin-bottom:2%;'>您已经抽取过了！请下次再来</p></div>",
                        style: 'width:95%; height:auto;border:none;background:none;margin:0px auto;',
                        success: function (olayer) {
                            var cla = 'getElementsByClassName';
                            olayer[cla]('btnclose5')[0].onclick = function () {
                                layer.closeAll();
                            }
                        }
                    });
                    return;
                }

            });
        }

        function bigDraw1(){
            layer.open({
                type:1,
                content:"<div class='showLuckBg'>"+
                "<img src='images/showluckDialog1.png' class='showprizeBg'/>"+
                "<div class='closebtn1'><img src='images/close.png' /></div>"+
                "<div class='luckdiv'>"+
                "<div id='dowebok1'>"+
                "<div class='plate1'>"+
                "<div id='plateBtn1' class='plateBtncss1' href='javascript:'></div>"+
                "</div>"+
                "</div>"+
                "</div>"+
                "</div>'",
                style: 'width:95%; height:auto;border:none;background:none;margin:0px auto;',
                shadeClose: false,
                success: function (olayer) {
                    var cla = 'getElementsByClassName';
                    olayer[cla]('closebtn1')[0].onclick = function () {
                        layer.closeAll();
                    }
                }
            });

            var $plateBtn = $('#plateBtn1');
            var count = 0; //抽奖次数
            var isRotate = false;//转动的状态

            var timeOut = function () { //超时函数
                $plateBtn.rotate({
                    angle: 0,  //起始角度
                    duration: 10000,
                    animateTo: 2160,//旋转角度6圈
                    easing: $.easing.easeOutSine, //动画扩展 这里是设置请求超时后返回的角度，所以应该还是回到最原始的位置，2160是因为我要让它转6圈，就是360*6得来的
                    callback: function () {
                        alert("网络超时");
                    }
                });
            };

            var rotateFunc = function (awards, angle, text, extraData) {   //转盘旋转   awards:奖项，angle:奖项对应的角度
                $plateBtn.stopRotate(); //停止旋转动画
                $plateBtn.rotate({
                    angle: 0,
                    duration: 5000,
                    animateTo: angle + 1440,  //angle是图片上各奖项对应的角度，1440是让指针固定旋转4圈 360*4
                    callback: function () {
                        $(this).addClass("plateBtncss1");
                        $(this).removeClass("plateBtncss21");

                        showPrizeCode(text); //显示中奖的物品代码

                        isRotate = !isRotate;
                    }
                });
            };

              $("#plateBtn1").click(function(){
                if(isRotate) return;
                if(count<1){
                    isRotate = !isRotate;
                    $(this).removeClass("plateBtncss1");
                    $(this).addClass("plateBtncss21");
                    /*
                     var time=[0,1];
                     time = time[Math.floor(Math.random()*time.length)];
                     if(time == 0){  //网络超时
                     timeOut();
                     }
                     */
                    //if(time == 1){

                    /*
                     这里的time和count以及data是要从后台获取的，但这里只是静态页面，所以我就利用了random随机数来尽量模拟抽奖的过程了。
                     time参数表示从后台请求是否成功，0是请求超时，1是请求成功(成功后再判断返回的值是什么样);
                     data就是请求返回的数据，1，2，3表示一二三等奖，0是不中奖，根据返回的数据，再去设置指针旋转的角度。
                     因为这个图片上的角度无法用公式计算出来，所以只能这样子计算出来后定死。*/

                    var data = [0, 1, 2, 3, 4, 5, 6, 7];
                    data = data[Math.floor(Math.random()*data.length)];
                    switch(data){
                        case 1:
                            rotateFunc(1,157,'10000幸运豆');
                            break;
                        case 2:
                            rotateFunc(2,65,'100000幸运豆');
                            break;
                        case 3:
                            rotateFunc(3,335,'青铜弹头*1');
                            break;
                        case 4:
                            rotateFunc(4,247,'定屏、加速、锁定*10');
                            break;
                        case 5:
                            rotateFunc(5,114,'50000幸运豆');
                            break;
                        case 6:
                            rotateFunc(6,24,'100000幸运豆高级神灯*1');
                            break;
                        case 7:
                            rotateFunc(7,292,'绿钻*300');
                            break;
                        default:
                            rotateFunc(0,203,'低级神灯*8');
                    }
                }else{
                    layer.open({
                        type: 1,
                        content: "<div style='width:90%;padding:1% 5% 5% 5%;background-color:#ee382b; border-radius:5px;font-weight:500;font-family:Microsoft Yahei'><p style='width:100%;float:left;margin-bottom:3%;'><img src='images/close.png' class='btnclose6'  style='width:40px;height:40px;float:right;' /></p><p style='width:100%;text-align:center;color:#ffe66f;padding:1% 0%;margin-bottom:2%;'>您已经抽取过了！请下次再来</p></div>",
                        style: 'width:95%; height:auto;border:none;background:none;margin:0px auto;',
                        success: function (olayer) {
                            var cla = 'getElementsByClassName';
                            olayer[cla]('btnclose6')[0].onclick = function () {
                                layer.closeAll();
                            }
                        }
                    });
                    return;
                }

            });
        }

        function showPrizeCode(codeNo){
            layer.open({
                type:1,
                content:"<div class='prizeBg'>"+
                             "<img src='images/prizebg.png' class='showprizeBg' />"+
                             "<div class='showPrizeContent'>"+
                                "<p class='prizeName'>获得******奖励</p>"+
                                "<div class='codePrizediv'><input id='foo' type='text' value="+codeNo+"  class='codePrizeInfo'></div>"+
                                "<div class='showPrizeBtns'>"+
                                    "<button class='btnCopy' data-clipboard-action='copy' data-clipboard-target='#foo'></button>"+
                                    "<button class='prizeRecodeBtn'></button>"+
                                "</div>"+
                            "</div>"+
                        "</div>",
                style: 'width:95%; height:auto;border:none;background:none;margin:0px auto;',
                shadeClose: false,
                success: function (olayer) {
                    var cla = 'getElementsByClassName';
                    olayer[cla]('prizeRecodeBtn')[0].onclick = function () {
                        layer.closeAll();
                        window.location.href="myRecode.html";

                    }
                }
            });
        }

        function showPrizeCode1(codeNo){
            layer.open({
                type:1,
                content:"<div class='prizeBg'>"+
                "<img src='images/prizebg2.png' class='showprizeBg' />"+
                "<div class='showPrizeContent'>"+
                "<p class='prizeName'>获得******奖励</p>"+
                "<div class='codePrizediv'><input id='foo' type='text' value="+codeNo+"  class='codePrizeInfo'></div>"+
                "<div class='showPrizeBtnone'>"+
                "<button class='trygetPrize'></button>"+
                "</div>"+
                "</div>"+
                "</div>",
                style: 'width:95%; height:auto;border:none;background:none;margin:0px auto;',
                shadeClose: false,
                success: function (olayer) {
                    var cla = 'getElementsByClassName';
                    olayer[cla]('trygetPrize')[0].onclick = function () {
                        showSpecialPrize();
                    }
                }
            });
        }

        function  showSpecialPrize(codeNo){
            layer.open({
                type:1,
                content:"<div class='prizeBg'>"+
                "<img src='images/3333.png' class='showprizeBg' />"+
                "<div class='showSpecialPrizeContent'>"+
                "<div class='codePrizediv'><input id='foo2' type='text' value="+codeNo+"  class='codeSpecailPrizeInfo'></div>"+
                "<div class='showPrizeBtnspecial'>"+
                "<button class='myRecodeBtn'></button>"+
                "</div>"+
                "</div>"+
                "</div>",
                style: 'width:95%; height:auto;border:none;background:none;margin:0px auto;',
                shadeClose: false,
                success: function (olayer) {
                    var cla = 'getElementsByClassName';
                    olayer[cla]('myRecodeBtn')[0].onclick = function () {
                        layer.closeAll();
                        window.location.href="myRecode.html";
                    }
                }
            });
        }

        function noSpecialPrize(){
            layer.open({
                type:1,
                content:'<div class="questionOverDialog02">'+
                "<img src='images/errorSomeOne.png' class='showprizeBg' />"+
                "<div class='showUserOpera'>"+
                "<div class='noSpecailPrizeBtn'>"+
                "<img src='images/o12.png' />"+
                "</div>"+
                "</div>"+
                "</div>'",
                style: 'width:95%; height:auto;border:none;background:none;margin:0px auto;',
                shadeClose: false,
                success: function (olayer) {
                    var cla = 'getElementsByClassName';
                    olayer[cla]('noSpecailPrizeBtn')[0].onclick = function () {
                        layer.closeAll();
                        window.location.href="myRecode.html";
                    }
                }
            });
        }
        $(function () {

            var len=$(".showItemContent").find("div.itemList").length; //总共长度
            var myansewr=[];
            var myValue;
            /*记录选择的值*/
            $(".itemList").find(".selectItem").each(function () {
                $(this).click(function () {
                    $(this).addClass("active").siblings().removeClass("active");
                    $(this).parents("div.itemList").addClass("selected");
                    myValue = $(this).find("input[type='radio']:checked").val();
                    $(this).parent().find(".data-value").html(myValue);
                });
            });
            //答完题后的提交事件
            $(".userPostQuestion").click(function () {
                myansewr.splice(0,myansewr.length); //清空数组
                var sld =$(".showItemContent").find("div.selected").length ;
                if(sld<len){
                    $(".postQuestionInfo").html("题还没有答完");
                }else if(sld == len){
                    $(".postQuestionInfo").html("题已经答完");
                }

                $(".showItemContent").find(".itemList").each(function () {
                    var userClickValue= $(this).find(".data-value").html();
                    myansewr.push(userClickValue);
                });
                console.log(myansewr);
            });

            //bigDraw1();
            showPrizeCode("dfdfdfd")
            //showSpecialPrize("dsfsfd");
        });
    </script>
</body>
</html>